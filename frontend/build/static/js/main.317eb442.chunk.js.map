{"version":3,"sources":["logo.svg","pages/Login.js","pages/Register.js","pages/Dashboard.js","App.js","index.js"],"names":["App","useState","email","setEmail","password","setPassword","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","user","localStorage","setItem","alert","window","location","href","onSubmit","value","onChange","e","target","type","placeholder","Button","onClick","history","useHistory","name","setName","status","push","Dashboard","bookdata","setBooksData","populateBooksData","getItem","req","temp","console","log","useEffect","token","jwt","decode","removeItem","replace","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","map","row","index","genre","author","axios","require","rowList","getdata","get","books","forEach","book","path","exact","Login","Register","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.317eb442.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { Button } from '@material-ui/core'\nimport { useState } from 'react'\n\nfunction App() {\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\n\tfunction gotoregister() {\n\t\twindow.location.href = \"/register\";\n\t}\n\n\tasync function loginUser(event) {\n\t\tevent.preventDefault()\n\n\t\tconst response = await fetch('/api/login', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t})\n\n\t\tconst data = await response.json()\n\n\t\tif (data.user) {\n\t\t\tlocalStorage.setItem('token', data.user)\n\t\t\talert('Login successful')\n\t\t\twindow.location.href = '/dashboard'\n\t\t} else {\n\t\t\talert('Please check your username and password')\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Login</h1>\n\t\t\t<form onSubmit={loginUser}>\n\t\t\t\t<input\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input type=\"submit\" value=\"Login\" />\n\t\t\t</form>\n\t\t\t<Button onClick={gotoregister}>Register</Button>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nfunction App() {\n\tconst history = useHistory()\n\n\tconst [name, setName] = useState('')\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\n\tasync function registerUser(event) {\n\t\tevent.preventDefault()\n\n\t\tconst response = await fetch('/api/register', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t})\n\n\t\tconst data = await response.json()\n\n\t\tif (data.status === 'ok') {\n\t\t\thistory.push('/login')\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Register</h1>\n\t\t\t<form onSubmit={registerUser}>\n\t\t\t\t<input\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input type=\"submit\" value=\"Register\" />\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React, { useEffect, useState } from 'react'\nimport jwt from 'jsonwebtoken'\nimport { useHistory } from 'react-router-dom'\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\n\n\n\nconst Dashboard = () => {\n\tconst history = useHistory()\n\tconst [bookdata, setBooksData] = useState([])\n\n\tasync function populateBooksData() {\n\t\tconst req = await fetch('http://localhost:3000/api/books', {\n\t\t\theaders: {\n\t\t\t\t'x-access-token': localStorage.getItem('token'),\n\t\t\t},\n\t\t})\n\t\tconst temp = await req.json()\n\t\tconsole.log(\"Books data\", temp);\n\t\tsetBooksData(temp)\n\t}\n\n\tuseEffect(() => {\n\t\tpopulateBooksData()\n\t\tconst token = localStorage.getItem('token')\n\t\tif (token) {\n\t\t\tconst user = jwt.decode(token)\n\t\t\tif (!user) {\n\t\t\t\tlocalStorage.removeItem('token')\n\t\t\t\thistory.replace('/login')\n\t\t\t} else {\n\t\t\t\tpopulateBooksData()\n\t\t\t}\n\t\t}\n\t}, [])\n\n\n\treturn (\n\t\t<div>\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"simple table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">S.No</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">Ttile</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">Genre</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">Author</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">Price&nbsp;($)</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\n\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{bookdata.map((row, index) => (\n\t\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">{index + 1}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.name}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.genre}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.author.name}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","import logo from './logo.svg';\nimport './App.css';\nimport { useEffect } from 'react'\n\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport Login from './pages/Login'\nimport Register from './pages/Register'\nimport Dashboard from './pages/Dashboard'\n\nconst axios = require('axios');\nconst rowList = [];\n\n\nconst getdata = async () => {\n  const books = await axios.get('/api/books');\n  console.log(books);\n  books.data.forEach(book => {\n    rowList.push(<tr><td>{book.name}</td></tr>)\n  });\n\n  console.log(rowList);\n\n};\n\nfunction App() {\n\n  useEffect(() => {\n\n    getdata()\n\n  });\n\n  return (\n\n    <div>\n      <BrowserRouter>\n        <Route path=\"/\" exact component={Login} />\n        <Route path=\"/register\" exact component={Register} />\n        <Route path=\"/dashboard\" exact component={Dashboard} />\n      </BrowserRouter>\n    </div>\n  );\n}\n\n\n\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}